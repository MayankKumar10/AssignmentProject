(self.webpackChunklite=self.webpackChunklite||[]).push([[8537],{28537:(e,t,n)=>{"use strict";n.d(t,{AR:()=>r,wB:()=>k,T8:()=>w,Nx:()=>O,uT:()=>x,t$:()=>P,w9:()=>R,St:()=>j,th:()=>L,Cr:()=>z,oe:()=>C,J1:()=>M,qW:()=>I,um:()=>q});var r,i=n(59713),a=n.n(i),o=n(63038),u=n.n(o),c=n(42348),s=n.n(c),l=n(84792),f=n(82186),d=n(97217),p=n(62506);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.Link=0]="Link"}(r||(r={}));var y=["numbered-list","bulleted-list","bq"],g=[d.FT.A,d.FT.STRONG,d.FT.EM];function v(e){if(!e.children)return[];if(e.children.every((function(e){return function(e){return l.Text.isText(e)||"link"===e.type}(e)}))){var t=l.Node.string(e),n=!(null!=e&&e.name),r=n?E():e.name,i=function(e){switch(e){case"oli":return 10;case"uli":return 9;case"bq-line":return 6;case"image":return 4;case"title":return 3;default:return 1}}(e.type);if("image"===e.type)return[{type:n?1:3,paragraph:{name:r,type:i,text:t,markups:[],layout:1,metadata:{id:e.imageProps.miroId,originalWidth:e.imageProps.width,originalHeight:e.imageProps.height}},verifySameName:!n}];if(!t.length&&!e.name)return[];if(!t.length&&e.name)return[{type:2,paragraph:{name:e.name}}];var a=e.children.reduce((function(e,t){var n=u()(e,2),r=n[0],i=n[1],a=l.Node.string(t).length;return t.italic&&i.push({type:2,start:r,end:r+a}),t.bold&&i.push({type:1,start:r,end:r+a}),"link"===t.type&&i.push({type:3,start:r,end:r+a,href:t.url,title:"",rel:"",anchorType:0}),[r+a,i]}),[0,[]]);return[{type:n?1:3,paragraph:{markups:u()(a,2)[1],name:r,text:t,type:i},verifySameName:!n}]}return s()(e.children.map(v).filter((function(e){return e.length})))}function b(e,t){return e.map((function(e,n){return e.index=n+t,e}))}var T=function(e){var t=[];return e.map((function(e){return t.includes(e.name)?m(m({},e),{},{name:void 0}):(e.name&&t.push(e.name),e)}))};function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeInitialDeltas:!0},n=t.includeInitialDeltas,r=[];if(n){var i=E();r=[{type:8,index:0,section:{name:i,startIndex:0}}]}var a=e.children,o=T(a);e.children=o;var u=0;if(o[0]&&!o[0].name&&"title"!==o[0].type){var c=E();r.push({type:1,index:0,paragraph:{name:c,type:3,text:"",markups:[]}}),u=1}var s=v(e),l=b(s,u);return r.concat(l)}function E(){return Math.round(65535*Math.random()).toString(16).padStart(4,"0")}var w=function(e,t){e.selection&&x(e,t)},O=function(e,t){var n=t||e.selection;l.Transforms.unwrapNodes(e,{match:function(e){return(0,p.z)(e)&&"link"===e.type},at:n})},x=function(e,t){(function(e){var t=l.Editor.nodes(e,{match:function(e){return(0,p.z)(e)&&"link"===e.type}});return!!u()(t,1)[0]})(e)&&O(e);var n=e.selection,r=n&&l.Range.isCollapsed(n),i={type:"link",url:t,children:r?[{text:t}]:[]};r?l.Transforms.insertNodes(e,i):(l.Transforms.wrapNodes(e,i,{split:!0}),l.Transforms.collapse(e,{edge:"end"}),N(e))},N=function(e){var t=l.Editor.above(e,{match:function(t){return l.Editor.isInline(e,t)},mode:"highest"});if(t){var n=u()(t,2)[1],r=l.Editor.after(e,n);l.Transforms.setSelection(e,{anchor:r,focus:r}),l.Transforms.insertText(e,"")}},P=function(e,t,n){try{var r=n||e.selection;return r&&l.Range.isCollapsed(r)?(l.Editor.marks(e)||{})[t]:"link"===t?function(e,t){var n=l.Editor.nodes(e,{match:function(e){return!0===e[t]||(0,p.z)(e)&&e.type===t}});return!!u()(n,1)[0]}(e,t):function(e,t,n){var r=l.Editor.nodes(e,{match:function(e){return!0===e[t]||(0,p.z)(e)&&e.type===t},at:n,mode:"all",universal:!0});return!!u()(r,1)[0]}(e,t,r)}catch(e){return!1}},R=function(e,t){P(e,t)?l.Editor.removeMark(e,t):l.Editor.addMark(e,t,!0)},S=function(e){switch(e){case"bq":return"bq-line";case"numbered-list":return"oli";case"bulleted-list":default:return"uli"}},j=function(){if("undefined"!=typeof window){var e=window.getSelection(),t=e&&!e.isCollapsed&&e.getRangeAt(0);return t&&t.getBoundingClientRect()}},L=function(e,t,n){var r=n||e.selection,i=P(e,t,n),a=y.includes(t),o=l.Range.isRange(r)?l.Editor.rangeRef(e,r):l.Point.isPoint(r)?l.Editor.pointRef(e,r):l.Editor.pathRef(e,r);if(l.Transforms.unwrapNodes(e,{at:r,match:function(e){return y.includes(e.type)},split:!0}),o.current&&(H(e),l.Transforms.setNodes(e,{type:i?"paragraph":a?S(t):t},{at:o.current||void 0}),!i&&a)){var u={type:t,children:[]};l.Transforms.wrapNodes(e,u,{at:o.current})}},H=function(e){["bold","italic"].forEach((function(t){l.Editor.removeMark(e,t)})),P(e,"link")&&O(e)},z=function(e,t){["bold","italic"].forEach((function(n){P(e,n,t)&&l.Transforms.unsetNodes(e,n,{at:t})})),["link","numbered-list","bulleted-list","bq"].forEach((function(n){P(e,n,t)&&l.Transforms.unwrapNodes(e,{at:t,match:function(e){return(0,p.z)(e)&&e.type===n}})}))},C=function(e){if(e){var t=function(e){if(!e||!e.children.length)return!1;var t=l.Editor.point(e,[0],{edge:"start"}),n=e.children.length;return{anchor:t,focus:l.Editor.point(e,[n-1],{edge:"end"})}}(e);t&&(l.Transforms.removeNodes(e,{at:t}),l.Transforms.insertNodes(e,{children:[{text:""}]}))}},F=function(e){if("link"===e.type)return!0},M=function(e){return e.paragraphs.map((function(e){var t=e.markups,n=e.name,r=e.text;if(e.type===d.NJ.H3)return{children:[{text:r}],name:n,type:"title"};if(null==t||!t.length)return{children:[{text:r}],name:n};var i=new Set;i.add(0),i.add(r.length),t.forEach((function(e){var t=e.start,n=e.end;i.add(t),i.add(n)}));var a=Array.from(i);return{children:a.sort((function(e,t){return e-t})).slice(1).map((function(e,n,i){var o=n?i[n-1]:a[0],u=e,c=t.filter((function(e){return e.start<=o&&u<=e.end})),s={text:r.substring(o,u)};return c.forEach((function(e){var t=e.href;switch(e.type){case d.FT.STRONG:(F(s)?s.children[0]:s).bold=!0;break;case d.FT.EM:(F(s)?s.children[0]:s).italic=!0;break;case d.FT.A:s={type:"link",url:t,children:[s]}}})),s})),name:n}}))},I=function(e){switch(e.inResponseToType){case f.Fz.STORY:case f.Fz.LEGACY:return e.content.bodyModel.paragraphs.every((function(e){return e.type===d.NJ.P&&e.markups.every((function(e){return e.type&&g.includes(e.type)}))}));default:return!0}},q=function e(t){var n=!0;return t?(t.forEach((function(t){if(l.Text.isText(t)?t.text.trim().length>0&&(n=!1):"image"===t.type?n=!1:"image"!==t.type&&t.children&&(n=n?e(t.children):n),!n)return n})),n):n}},62506:(e,t,n)=>{"use strict";var r;n.d(t,{z:()=>i}),function(e){e[e.Section=0]="Section",e[e.Title=1]="Title",e[e.Subtitle=2]="Subtitle",e[e.H1=3]="H1",e[e.H2=4]="H2",e[e.BQ=5]="BQ",e[e.OL=6]="OL",e[e.LI=7]="LI",e[e.UL=8]="UL",e[e.HR=9]="HR",e[e.Highlight=10]="Highlight",e[e.ListPost=11]="ListPost",e[e.ResponsePost=12]="ResponsePost"}(r||(r={}));var i=function(e){return!!e.containerType||!!e.type}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/8537.29ab83f7.chunk.js.map