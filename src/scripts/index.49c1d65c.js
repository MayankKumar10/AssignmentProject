var te=Object.defineProperty;var z=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var D=(t,n,s)=>n in t?te(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,q=(t,n)=>{for(var s in n||(n={}))ae.call(n,s)&&D(t,s,n[s]);if(z)for(var s of z(n))ie.call(n,s)&&D(t,s,n[s]);return t};import{R as F,u as A,aP as a,b8 as O,p as c,q as e,bh as f,B as _,bi as $,O as T,bj as re,bk as ce,E as oe,r as m,X,bl as le,A as J,an as K,w as M,v as L,y as x,J as Z,al as de,bm as pe,h as Q,n as P,W as S,bn as ue,bo as me,bp as he,bq as ge,br as fe,bs as I,bt as ve,V as C,bu as be,aL as j,F as E,T as Y,z as ye,j as R,ax as Ne,ay as U,bv as Se,bw as we,bx as ke,by as ee,bz as ne,af as xe,K as Ce,L as se,aC as Le,aG as _e,bA as Te,$ as Ae}from"./index.61feb879.js";function Be(){return[{active:f.tbtn_luckspin_2,default:f.tbtn_luckspin_1,value:0},{active:f.tbtn_superspin_2,default:f.tbtn_superspin_1,value:1},{active:f.tbtn_megaspin_2,default:f.tbtn_megaspin_1,value:2}]}const Ie=F.memo(function({tab:n,onTab:s,level:i,updateFinished:o}){const l=A(),r=a.tabs,d=O.find(p=>p[4]===n)||O[0],u=n<=1&&i===0?0:d[0];return c("div",{className:Ee,children:[e("div",{className:"tab-nav",children:Be().map(p=>c(_,{style:{backgroundColor:n===r[p.value]?$(n):"#191a1b"},onClick:()=>s(r[p.value]),children:[n!=r[p.value]&&e("img",{src:p.default}),n===r[p.value]&&e("img",{src:p.active})]},p.value))}),e("div",{className:"tag-wrap",children:c("div",{className:T("tag",o&&"active"),style:{backgroundColor:$(n)},children:[e("div",{className:"tag-img",style:{color:$(n)},children:re(d[4])}),e("div",{className:"desc",children:l("page.spin.level_above",String(u))})]})})]})}),Ee="s1r57jeu";const Pe=ce(()=>oe(()=>import("./SpinResultParticles.62225c26.js"),["assets/SpinResultParticles.62225c26.js","assets/SpinResultParticles.7abaacff.css","assets/index.61feb879.js","assets/index.c006919b.css"]));function Re(){const t=Math.floor(Math.random()*3);return t===0?"I got free Crypto from BC.GAME free daily spin! Try your luck now! Free spin to get 5 BTC!":t===1?"Wow! I won free crypto from daily free spin at BC.GAME! Try your luck now! Free spin to get 5 BTC!":"I got lucky at BC.GAME free Lucky Spin today! Try your luck now! Free spin to get 5 BTC!"}function Me(){const t=A(),{data:n}=Z(()=>de({title:"Spin",content:Re()}));if(!n)return e("div",{className:V});const s=n.filter(i=>i.src);return c("div",{className:V,children:[e("div",{className:"share-bottom",children:e("div",{className:"word",children:t("page.share.share_social")})}),e("div",{className:"share-cont",children:s.slice(0,6).map((i,o)=>e("a",{href:i.src,target:"_blank",rel:"noopener noreferrer",className:T("share-item",o>2&&"disabled"),children:e("img",{className:"icon",src:i.icon})},o))})]})}const V="s7a8wk7";function je({amount:t,currencyName:n,locked:s,level:i,trackId:o,bigPrize:l}){const r=A(),[d,u]=m.exports.useState(!1),p=X(),h=async function(){const v=pe.currentRoom.id,b=r("page.share.success");if(await L.confirm(r("page.share.room")+"?"))return Q.post("/activity/lucky/spin/share/",{trackId:o,roomId:v}).then(()=>{P(b),u(!0)})};return c("div",{className:Fe,children:[e(Pe,{bigPrize:l}),c("div",{className:"img-cont",children:[e("img",{className:"bg",src:f.bg_lottery,alt:""}),e("img",{className:"img",src:le(a.getTab(i)),alt:""})]}),c("div",{className:T("cont",s&&"locked"),children:[e(J,{name:n}),"+ ",K(t,5),c("span",{className:"currency",children:[s&&"Locked"," ",M.getAlias(n)]})]}),c("div",{className:"btn-wrap",children:[e(_,{className:"collect",type:"conic",onClick:()=>{s?(L.close(),setTimeout(()=>{p("/bonus_dashboard")},50)):L.back(),a.soundSprites.play("Collect")},children:s?r("common.actions.view_my","BCD"):r("common.actions.collect_now")}),e(_,{onClick:h,disabled:d,className:"share-local",children:e(x,{name:"Share"})})]}),e(Me,{})]})}const Fe="s1sk8jcl";function $e(t,n,s,i,o){const l=a.getTab(t),r=I(),d=ve(o.length,{ref:r,config:{mass:1,tension:1e3,friction:26},opacity:s?0:1,height:s?0:24,x:s?0:20,from:{opacity:1,height:24,x:0}}),u=I(),p=C({ref:u,opacity:s?0:1,scale:s?.3:1,rotate:s?-30:0}),h=I(),v=C({ref:h,scale:s?2:1,opacity:s?0:1,onChange:y=>{y.value.opacity<.01&&a.levelUpdateFinished()}}),b=I(),g=C({ref:b,opacity:s?0:1,y:s?-100:0}),w=I(),B=C({ref:w,opacity:s?0:1,scale:s?1.5:1});return be(s?[r,w,u,b,h]:[h,u,r,w,b],s?[0,.6,1,1.2,1.4]:[0,.4,.6,1,1.4]),{spinPoint:e(S.img,{style:B,src:ue(t),alt:""}),spinMain:c(S.div,{className:Ue,style:p,children:[e("img",{className:T("spin-light",!n&&!s&&"active"),src:f.spinLight3,alt:""}),e("img",{className:"spin-img",src:me(t),alt:""}),t===5&&e("img",{className:"diamond-cont",src:f.spin_diamond_fuck,alt:""}),d.map((y,k)=>c(S.div,{className:"spin-item",style:{opacity:y.opacity,height:y.height,transform:`rotate(${k*22.5}deg)`},children:[e("span",{className:"amount",children:K(o[k].amount,5)}),e(J,{name:o[k].currencyName}),o[k].locked&&e(x,{name:"Locked"})]},k))]}),spinBtn:c(S.div,{style:v,className:T(n&&"loading","btn-img"),onClick:i,children:[e("img",{src:he(t),alt:""}),e("img",{className:"btn-txt",src:ge(l),alt:""})]}),spinBanner:e(S.img,{style:g,src:fe(t)})}}const Ue="s1dm07mj";const ze={from:{opacity:0,scale:.3,rotate:-30},to:{opacity:1,scale:1,rotate:0}},W={from:{y:-50,opacity:0,scale:.3},to:{y:0,opacity:1,scale:1}};function De(t,n){let s=360;if(t>0&&n.current){const i=n.current.style.transform.match(/\d+/),o=i?i[0]:0,l=(Math.ceil(Number(o)/360)+5)*360;s=360-t*22.5+l}return s}const qe=F.memo(function({level:n,res:s,loading:i,update:o,onSpin:l}){const r=m.exports.useRef(null),d=m.exports.useRef(null),u=m.exports.useRef(null),p=a.spinOptions[n],[h,v]=C(()=>ze),[b,g]=C(()=>W),{spinPoint:w,spinMain:B,spinBtn:y,spinBanner:k}=$e(n,i,o,l,p);return m.exports.useEffect(()=>{const N=j.timeline();return s>0&&r.current&&u.current&&d.current?(N.to(r.current,{rotate:De(s,r),duration:3.6}),N.to(d.current,{scale:1.1,duration:.3,delay:.3}),N.to(d.current,{scale:1,duration:.2}),N.set(u.current,{x:-20,scale:1}),N.to(u.current,{x:200,skewX:-25,scale:3.4,duration:.5,delay:.3}),N.to(d.current,{scale:1,onComplete:()=>{a.setSpinAnimateEnd()}})):N.set(r.current,{rotate:0}),()=>{j.killTweensOf(N)}},[s]),m.exports.useEffect(()=>()=>a.setSpinAnimateEnd(),[]),m.exports.useEffect(()=>{g.start(W),v.start({reset:!0})},[n]),c(E,{children:[c(S.div,{className:G,style:h,children:[e("div",{ref:r,className:G,children:B}),c("div",{className:"point-img",ref:d,children:[e("div",{className:"light-wrap",children:e("div",{ref:u,className:"point-light"})}),w]})]}),y,e(S.div,{style:b,className:"banner-img",children:k})]})}),G="s1mdpn4f";const Oe=Y(function({level:n}){const[s,i]=ye({res:0}),o=A(),l=a.spinLoading,r=a.levelUpdated,d=X(),u=R.login,p=Se(n),h=async function(){if(a.soundSprites.play("Click"),!u)return L.close(),d("/login?redirect=/spin");if(!l){if(a.freeTimes===0)return P("Uh oh! Sorry but you don't have free spin yet!");if(n!=a.spinLevel)return P("Uh ho! Please try other Spin");try{a.spinLoading=!0;const g=await a.handleSpin();a.soundSprites.play("SpinAndBonus"),a.freeTimes=g.leftTimes,i({res:g.hitSection-1}),await a.spinAnimateEnd(),a.spinLoading=!1,L.push(e(je,{locked:g.locked,amount:g.amount,currencyName:g.currencyName,bigPrize:g.bigPrize,level:a.spinLevel,trackId:g.trackId})),g.leftTimes===0&&a.setNextTime()}catch(g){P(g),a.spinLoading=!1}}};m.exports.useEffect(()=>{i({res:0})},[n]);const v=u?`${o("page.spin.free")}: ${a.freeTimes}`:o("page.spin.free"),b=R.login&&(n!=a.spinLevel||a.freeTimes<=0);return c("div",{className:Ve,children:[e(qe,{level:n,res:s.res,update:r,onSpin:h,loading:a.spinLoading}),e(_,{onClick:h,disabled:b,style:{backgroundColor:p[0],backgroundImage:`conic-gradient(from 1turn, ${p[1]}, ${p[0]})`},type:"conic4",className:"btn",children:a.freeTimes===0&&R.login?c(E,{children:[c("span",{style:{marginRight:"5px"},children:[o("page.spin.next_free"),":"]}),e(Ne,{endTime:a.nextTime,onEnd:a.getUserInfo,children:({days:g,hours:w,minutes:B,seconds:y})=>c("div",{className:"time-wrap",children:[e("b",{children:U(w)}),e("b",{className:"colon",children:":"}),e("b",{children:U(B)}),e("b",{className:"colon",children:":"}),e("b",{children:U(y)})]})})]}):v})]})}),Ve="s1rnlfw6";function We({list:t,onBack:n}){const[s,i]=m.exports.useState(!1),o=A();m.exports.useEffect(()=>{i(!0)},[]);const l=()=>{i(!1),setTimeout(()=>{n()},200)};return e("div",{className:T(Ge,s&&"enter"),children:c("div",{className:"winlist-wrap",children:[e("div",{className:"pop-control",children:e("button",{onClick:l,className:"back",children:e(x,{name:"Arrow"})})}),c("div",{className:"header",children:[e("img",{src:f.crown,className:"crown",alt:""}),c("div",{className:"spin-bonus",children:[e("img",{className:"pre-img",src:f.laurel,alt:""}),e("div",{className:"tit",children:"Spin Bonus"}),e("img",{className:"suf-img",src:f.laurel,alt:""})]})]}),c("div",{className:"win-list",children:[c("div",{className:"table-header td",children:[e("p",{children:o("page.share.username_label")}),e("p",{children:o("page.spin.level")}),e("p",{children:o("common.prize")})]}),t.length>0?e(we,{slidesPerView:"auto",direction:"vertical",freeMode:!0,loop:!0,autoplay:{delay:200,disableOnInteraction:!1},effect:"fade",slidesPerGroup:1,className:"winlist-swiper swiper-no-swiping",children:t.map((r,d)=>c(ke,{className:"td",children:[e("p",{className:"name",children:r.username}),e("p",{children:e("span",{style:{color:ee(a.getTab(r.level))},children:ne(a.getTab(r.level))})}),e("p",{children:e(xe,{sign:!0,icon:!0,name:r.currencyName,amount:r.amount})})]},"tr-"+d))}):e(Ce,{})]})]})})}const Ge="szft0qp";function He(){return Q.post("/activity/lucky/spin/news/",{start:new Date().getTime()-24*60*60*1e3})}function Xe({num:t}){const n={val:a.totalBonus},s=m.exports.useRef(null),i=A();return m.exports.useEffect(()=>{const o=j.to(n,{val:t,duration:3,ease:Te.easeInOut,onUpdate:()=>{s.current&&(s.current.innerHTML=M.toLocaleCurrency(n.val,"USD"))}});return a.totalBonus=t,()=>j.killTweensOf(o)},[t]),c("div",{className:"left-cont",children:[e("div",{className:"tit",children:i("page.spin.totalbonus")}),e("div",{className:"amount",ref:s,children:M.toLocaleCurrency(n.val,"USD")})]})}const Je=F.memo(function({spinLoading:n}){const[s,i]=m.exports.useState(!1),{data:o,error:l}=Z(He);return o?c(E,{children:[s&&e(We,{list:o.updates,onBack:()=>i(!1)}),c("div",{className:H,children:[e(Xe,{num:o.totalBonus}),e("div",{className:"right-cont",onClick:()=>{n||i(!s)},children:e(Ze,{list:o.updates})})]})]}):e("div",{className:H,children:e(se,{})})}),Ke=F.memo(({data:t,it:n})=>c(S.div,{className:"data-cont",style:q({position:"absolute"},n),children:[e(Le,{name:"",userId:t.userId}),c("div",{className:"cont",children:[e("div",{className:"name",children:t.username}),c("div",{className:"win",children:["Win: ",e("span",{className:"amount",children:t.amount})," ",e("span",{className:"currency",children:M.getAlias(t.currencyName)})," "]}),c("div",{className:"type",children:["in ",e("b",{style:{color:ee(a.getTab(t.level))},children:ne(a.getTab(t.level))})]})]}),e(x,{name:"Arrow"})]}));function Ze({list:t}){const[n,s]=m.exports.useState(0),i=t[n%t.length],o=_e(i,{from:{y:"100%"},enter:{y:"0%"},leave:{y:"-100%"}});return m.exports.useEffect(()=>{const l=window.setInterval(()=>s(r=>r+1),5e3);return()=>{clearInterval(l)}},[]),e("div",{children:o((l,r,d,u)=>e(Ke,{data:r,it:l},u))})}const H="s1yjjo8e",Qe=Y(function(){const n=a.spinLevel,s=Ae.isMobile,i=a.tabs,o=R.vipLevel,[l,r]=m.exports.useState({tab:n});m.exports.useEffect(()=>{r({tab:n})},[n]);function d(h){a.spinLoading||r({tab:h})}function u(){const h=i.findIndex(v=>v===l.tab);d(i[h-1])}function p(){const h=i.findIndex(v=>v===l.tab);d(i[h+1])}return c(E,{children:[e(Ie,{tab:l.tab,level:o,onTab:d,updateFinished:a.updateFinished}),e(Oe,{level:l.tab}),s&&c(E,{children:[e(_,{disabled:l.tab===i[0],className:"pre_btn",onClick:u,children:e("div",{className:"btn-wrap",children:e(x,{name:"Arrow"})})}),e(_,{disabled:l.tab===i[i.length-1],className:"suff_btn",onClick:p,children:e("div",{className:"btn-wrap",children:e(x,{name:"Arrow"})})})]}),e(Je,{spinLoading:a.spinLoading})]})});var Ye=Qe;function tn(){const[t,n]=m.exports.useState(!0);return m.exports.useEffect(()=>(a.initReq().then(()=>n(!1)),()=>{a.reset()}),[]),c("div",{className:en,children:[e("button",{onClick:()=>L.back(),className:"close flex-center",children:e(x,{name:"Close"})}),e("div",{className:"bg-a"}),e("div",{className:"bg-b"}),t&&e(se,{}),!t&&e(Ye,{})]})}const en="s1cxjc1r";export{tn as default};
