(self.webpackChunklite=self.webpackChunklite||[]).push([[864],{59250:(e,n,i)=>{"use strict";i.d(n,{MA:()=>a,Zh:()=>r,jM:()=>u});var t=i(63038),d=i.n(t),l=i(67294),o={mutedAuthorIds:[],setMutedAuthorIds:function(){},mutedPubIds:[],setMutedPubIds:function(){},dismissedPostIds:[],setDismissedPostIds:function(){},isMutingFromHomeFeed:!0,seeLessPostIds:[],setSeeLessPostIds:function(){}},a=function(e,n,i,t,d){return e.filter((function(e){var l,o,a=null==e?void 0:e.post;return!!a&&!(n.includes(null===(l=a.creator)||void 0===l?void 0:l.id)||i.includes(null===(o=a.collection)||void 0===o?void 0:o.id)||t.includes(a.id)||d.includes(a.id))}))},s=(0,l.createContext)(o),r=function(e){var n=e.children,i=(0,l.useState)(o.mutedAuthorIds),t=d()(i,2),a=t[0],r=t[1],u=(0,l.useState)(o.mutedPubIds),c=d()(u,2),m=c[0],k=c[1],v=(0,l.useState)(o.dismissedPostIds),p=d()(v,2),S=p[0],f=p[1],N=(0,l.useState)(o.seeLessPostIds),F=d()(N,2),g=F[0],h=F[1],I=o.isMutingFromHomeFeed;return l.createElement(s.Provider,{value:{mutedAuthorIds:a,setMutedAuthorIds:r,mutedPubIds:m,setMutedPubIds:k,dismissedPostIds:S,setDismissedPostIds:f,isMutingFromHomeFeed:I,seeLessPostIds:g,setSeeLessPostIds:h}},n)},u=function(){return(0,l.useContext)(s)}},41589:(e,n,i)=>{"use strict";i.d(n,{q:()=>r});var t=i(67294),d=i(25735),l=i(6443),o=i(62685),a=i(97217),s=function(e){var n=e.children,i=(0,l.H)().value;return!(0,d.VB)({name:"enable_pills_based_feed",placeholder:!1})||null!=i&&i.dismissableFlags.includes(a.T3.HOMEPAGE_TOPIC_FILTERING_TOOLTIP)?t.createElement(o.o,{flag:a.T3.USER_SIGNAL_MENU,text:"Improve your recommendations by telling us which stories you're not interested in.",dismissText:"OK",placement:"top",targetDistance:10},n):n},r=function(e){var n=e.children;return e.enabled?t.createElement(s,null,n):n}},51277:(e,n,i)=>{"use strict";i.d(n,{v:()=>s});var t=i(319),d=i.n(t),l=i(48172),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverflowMenuWithNegativeSignal_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"}}]}}].concat(d()(l.g.definitions))},a=i(94630),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuWithNegativeSignal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CreatorActionOverflowPopover_post"}}]}}].concat(d()(o.definitions),d()(a.G.definitions))}},91743:(e,n,i)=>{"use strict";i.d(n,{t:()=>G});var t=i(67294),d=i(66324),l=i(6443),o=i(67701),a=i(66227),s=i(41589),r=i(59713),u=i.n(r),c=i(63038),m=i.n(c),k=i(17778),v=i(93774),p=i(25550),S=i(38352),f=i(37774),N=i(77355),F=i(93310),g=i(73917),h=i(66411),I=i(77280),P=i(43487);function b(){return(b=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var E=t.createElement("path",{d:"M6.2 16.8A7.5 7.5 0 1 0 16.8 6.2 7.5 7.5 0 0 0 6.2 16.8z",stroke:"#000",strokeWidth:2,strokeLinecap:"round"}),w=t.createElement("path",{d:"M6 6l11 11",stroke:"#000",strokeWidth:2});const y=function(e){return t.createElement("svg",b({width:19,height:19,viewBox:"0 0 23 23",fill:"none"},e),E,w)};var C=i(319),A=i.n(C),M=i(5977),O=i(59250),_=i(75880),x=i(18627),D=function(e){var n=e.creatorId,i=e.muteAuthor,d=e.hidePopover,l=e.eventData,o=e.isActiveExpandedPost,a=e.unfollowUser,s=(0,h.pK)(),r=(0,x.Av)(),u={id:n||""},c=(0,_.Pd)(u).viewerEdge,m=!(null==c||!c.isFollowing),k=!(null==c||!c.isMuting),v=(0,M.k6)(),p=(0,O.jM)(),f=p.mutedAuthorIds,N=p.setMutedAuthorIds,g=p.isMutingFromHomeFeed,I=t.useCallback((function(e){N([].concat(A()(f),[e]))}),[f]);return n?m?t.createElement(S.Sl,null,t.createElement(F.r,{onClick:function(){r.event("user.unfollowed",{targetUserId:n,source:s}),a(),d()}},"Unfollow this author")):k?null:t.createElement(S.Sl,null,t.createElement(F.r,{onClick:function(){r.event("user.muted",l),i(),g&&(I(n),o&&v.goBack()),d()}},"Mute this author")):null},T=i(24415),L=i(75150),j=function(e){var n=e.collectionId,i=e.hidePopover,d=e.mutePub,l=e.eventData,a=e.isActiveExpandedPost,s=e.unfollowCollection,r=(0,x.Av)(),u=(0,h.pK)(),c={id:n||""},m=(0,o.gY)(c).viewerEdge,k=!(null==m||!m.isFollowing),v=!(null==m||!m.isMuting),p=(0,O.jM)(),f=p.mutedPubIds,N=p.setMutedPubIds,g=p.isMutingFromHomeFeed,I=(0,M.k6)(),P=t.useCallback((function(e){N([].concat(A()(f),[e]))}),[f]);return n?k?t.createElement(S.Sl,null,t.createElement(F.r,{onClick:function(){r.event("collection.unfollowed",{collectionId:n,followSource:u}),s(),i()}},"Unfollow this publication")):v?null:t.createElement(S.Sl,null,t.createElement(F.r,{onClick:function(){r.event("collection.muted",l),d(),g&&(P(n),a&&I.goBack()),i()}},"Mute this publication")):null},U=i(42732);function R(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function B(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?R(Object(i),!0).forEach((function(n){u()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):R(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var H=function(e){var n=e.post,i=e.creatorId,d=e.collectionId,l=e.isActiveExpandedPost,o=e.setDismissedPostId,a=e.iconStyle,s=e.hideNegativeSignalItem,r=n.id,u=(0,p.r)().viewerId,c=(0,t.useState)(!1),b=m()(c,2),E=b[0],w=b[1],C=function(){return w(!1)},A=(0,v.l)(i,d),M=A.muteAuthor,O=A.mutePub,_=(0,k.l)(i,d),x=_.unfollowUser,R=_.unfollowCollection,H=(0,h.pK)(),G=(0,I.PM)(),V=(0,P.v9)((function(e){return e.navigation.referrer})),K=(0,P.v9)((function(e){return e.navigation.currentLocation})),W={postId:r,location:K,referrer:V,source:H,referrerSource:G},Y=(0,U.c)({post:n,onShowLess:C,isActiveExpandedPost:l,collectionId:d,setDismissedPostId:o}).handleShowLess,q=(0,t.useCallback)((function(){return t.createElement(S.mX,null,!s&&t.createElement(N.x,{borderBottom:"BASE_LIGHTER",paddingBottom:"4px",marginBottom:"4px"},t.createElement(S.Sl,null,t.createElement(F.r,{onClick:Y,"aria-label":"Show less like this"},t.createElement(N.x,{display:"flex",flexDirection:"row",alignItems:"center",borderBottom:void 0,ariaHidden:"true"},t.createElement(N.x,{marginRight:"4px"},t.createElement(y,null)),t.createElement(N.x,null,"Show less like this"))))),t.createElement(L.T,{post:n,hidePopover:C}),t.createElement(D,{creatorId:i,muteAuthor:M,isActiveExpandedPost:l,hidePopover:C,eventData:B({targetUserId:i},W),unfollowUser:x}),d&&t.createElement(j,{collectionId:d,mutePub:O,isActiveExpandedPost:l,hidePopover:C,eventData:B({collection:d},W),unfollowCollection:R}),t.createElement(f.z,{postId:r,viewerId:u,targetUserId:i||"",shouldShowShortenedCopy:!0,hidePopover:C}))}),[]);return i?t.createElement(g.J,{isVisible:E,hide:C,popoverRenderFn:q},t.createElement(T.c,{onClick:function(){return w(!0)},"aria-label":"More options",iconStyle:a})):null},G=function(e){var n=e.post,i=e.index,r=e.isActiveExpandedPost,u=e.setDismissedPostId,c=e.iconStyle,m=e.hideNegativeSignalItem,k=n.creator,v=n.collection,p=(0,l.H)(),S=p.loading,f=p.value,N=(0,o.gY)(v).viewerEdge,F=!S&&!!f,g=!(null==N||!N.isEditor),h=(null==f?void 0:f.id)===(null==k?void 0:k.id);return k&&F?g||h?t.createElement(a.B,null,(function(e){var i=e.show;return t.createElement(d.Z,{post:n,creator:k,collection:v,showLoadingIndicator:i,iconStyle:c})})):t.createElement(s.q,{enabled:0===i&&!m},t.createElement(H,{post:n,creatorId:k.id,collectionId:null==v?void 0:v.id,isActiveExpandedPost:r,setDismissedPostId:u,iconStyle:c,hideNegativeSignalItem:m})):null}},42732:(e,n,i)=>{"use strict";i.d(n,{c:()=>N});var t=i(319),d=i.n(t),l=i(82492),o=i.n(l),a=i(26075),s=i(90386),r=i(67294),u=i(5977),c=i(59250),m=i(25550),k=i(18627),v=i(66411),p=i(78285),S=i(77280),f=i(43487),N=function(e){var n=e.post,i=e.onShowLess,t=e.isActiveExpandedPost,l=e.collectionId,N=e.setDismissedPostId,F=n.id,g=(0,m.r)().viewerId,h=(0,u.k6)(),I=(0,c.jM)(),P=I.setSeeLessPostIds,b=I.isMutingFromHomeFeed,E=(0,p.w)(),w=(0,a.x)().cache,y=(0,k.Av)(),C=(0,v.pK)(),A=(0,S.PM)(),M=(0,f.v9)((function(e){return e.navigation.referrer})),O=(0,f.v9)((function(e){return e.navigation.currentLocation})),_=(0,r.useRef)(null),x=(0,r.useCallback)((function(){_.current=window.setTimeout((function(){y.event("post.see_less",{userId:g,collection:l,postId:F,location:O,referrer:M,source:C,referrerSource:A})}),3e3)}),[]),D=(0,r.useCallback)((function(){null!==_.current&&window.clearTimeout(_.current)}),[]),T=(0,r.useCallback)((function(){w.modify({id:w.identify((0,s.kQ)("ROOT_QUERY")),fields:{webRecommendedFeed:function(e,n){var i=n.readField;return o()({},e,{items:e.items.filter((function(e){return(null==e?void 0:e.post)&&i("id",e.post)!==F}))})},intentionalFeed:function(e,n){var i=n.readField;return o()({},e,{items:e.items.filter((function(e){return!("HomeFeedItem"===(null==e?void 0:e.__typename)&&null!=e&&e.post&&i("id",e.post)===F)}))})}}})}),[F]);return{handleShowLess:(0,r.useCallback)((function(){x(),T(),b&&(P((function(e){return[].concat(d()(e),[F])})),t&&h.goBack(),null==N||N(F)),E({toastStyle:"USER_NEGATIVE_SIGNAL",extraParams:{onClickUndo:D}}),null==i||i()}),[])}}},91727:(e,n,i)=>{"use strict";i.d(n,{S:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"subscribersCount"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isAuthorNewsletter"}}]}}]}},94630:(e,n,i)=>{"use strict";i.d(n,{G:()=>u});var t=i(319),d=i.n(t),l=i(92001),o=i(93647),a=i(36736),s=i(91727),r=i(48172),u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CreatorActionOverflowPopover_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}},{kind:"Field",name:{kind:"Name",value:"curationEligibleAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MutePopoverOptions_creator"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MutePopoverOptions_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsPinnedInContext_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"}}]}}].concat(d()(l.m.definitions),d()(o.C.definitions),d()(l.G.definitions),d()(a.x.definitions),d()(s.S.definitions),d()(r.g.definitions))}},36736:(e,n,i)=>{"use strict";i.d(n,{x:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useIsPinnedInContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}}]}}]}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/864.b1b3cbfe.chunk.js.map